AWS CloudFormation to provision the host.
CentOS is the target host OS.

Current elrepo link
# yum install -y https://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm

EC2 IAM Profile/Role/Policy is required to download files from S3 non-public bucket to EC2 instance
Manage Credentials for Applications Running on Amazon EC2 Instances
https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html#using-iam-template-manage-creds

SSH to the instance and login as 'centos' using the key specified at launch. Additional information may be found at : http://wiki.centos.org/Cloud/AWS
sudo -s

Cloud-init to set basic things on the EC2 instance
# https://cloudinit.readthedocs.io/en/latest/topics/examples.html
# Upgrade the instance on first boot
package_upgrade: true
# Install additional packages on first boot
packages: 
# to access resources in AWS S3
- awscli
# we will use Ansible for futher installations
- ansible
# clone Ansible playbooks from GitHub
- git
# epel-release is a repository with python-pip
- epel-release

aws version, when installed from yum
[centos@ip-172-31-1-5 ~]$ aws --version
aws-cli/1.14.28 Python/2.7.5 Linux/3.10.0-862.3.2.el7.x86_64 botocore/1.8.35

Alternative way to install awscli
pip install awscli

Groupinstall automation
https://docs.ansible.com/ansible/latest/modules/yum_module.html#notes
Use the ids in ()
[centos@ip-172-31-1-5 ~]$ yum group list hidden ids | grep virtualization
...
   Virtualization Host (virtualization-host-environment)
   Virtualization Client (virtualization-client)
   Virtualization Hypervisor (virtualization-hypervisor)
   Virtualization Platform (virtualization-platform)
   Virtualization Tools (virtualization-tools)

# Access 
aws s3 sync s3://juniper-vmx/test.txt .

